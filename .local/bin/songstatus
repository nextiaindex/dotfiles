#!/bin/sh

AlbumArt="/tmp/ncmpcpp/mpcNowPlaying.jpg" # Assign the AlbumArt variable with the path of the song's album art thats currently playing
Metadata=$(mpc --format '%artist%\n%title%\n%album%' current) # Fetch the song metadata (artist, title, album name) with mpc

if [ -z "$Metadata" ]; then # Send "no music is playing..." notification if $Metadata didn't print any strings.
    notify-send "ncmpcpp" "No music is playing..."
    exit 0
fi

# Extract the output of $Metadata and assign them into variables
# Author's note: I did this so that I can add Nerd Fonts into the notification
	SongArtist=$(echo "$Metadata" | sed -n '1p')
	SongTitle=$(echo "$Metadata" | sed -n '2p')
	SongAlbum=$(echo "$Metadata" | sed -n '3p')
#

notify-send "ncmpcpp" "󰠃 $SongArtist"'\n'"󰎆 $SongTitle"'\n'"󰀥 $SongAlbum" --icon="$AlbumArt" # Send the notification
